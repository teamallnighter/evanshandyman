const BACKGROUND_IMAGES=[{url:"images/backgrounds/hero1.jpg",alt:"Professional handyman working with tools on home renovation project",description:"Skilled craftsman using professional tools for quality home repairs"},{url:"images/backgrounds/hero2.jpg",alt:"Modern home improvement and construction work in progress",description:"Professional home renovation showcasing quality workmanship"},{url:"images/backgrounds/hero3.jpg",alt:"Handyman tools and equipment for professional home repairs",description:"Collection of professional tools used for reliable home maintenance"},{url:"images/backgrounds/hero4.jpg",alt:"Expert carpenter working on custom home improvement project",description:"Skilled carpenter demonstrating precision in home renovation work"},{url:"images/backgrounds/hero5.jpg",alt:"Professional handyman services for residential maintenance and repairs",description:"Quality handyman services ensuring reliable home maintenance solutions"}],CONFIG={scrollThreshold:100,animationDuration:300};class HeroManager{constructor(){this.currentBackgroundIndex=0,this.heroElement=document.querySelector(".hero"),this.aboutElement=document.querySelector("#about"),this.headerElement=document.querySelector(".site-header"),this.isNavVisible=!1,this.selectedImageUrl="",this.init()}init(){this.setupRandomBackground(),this.setupScrollNavigation(),this.preloadImages(),this.addScrollToTopButton()}preloadImages(){BACKGROUND_IMAGES.forEach((e=>{const t=new Image;t.src=e.url,t.alt=e.alt}))}setupRandomBackground(){this.heroElement&&(this.currentBackgroundIndex=Math.floor(Math.random()*BACKGROUND_IMAGES.length),this.selectedImage=BACKGROUND_IMAGES[this.currentBackgroundIndex],this.setHeroBackground(),this.setAboutBackground(),this.addAccessibilityAttributes(),console.log(`ðŸŽ¨ Random background selected: ${this.selectedImage.alt}`))}setHeroBackground(){this.heroElement&&this.selectedImage&&(this.heroElement.style.backgroundImage=`url('${this.selectedImage.url}')`,this.heroElement.style.transition="none")}setAboutBackground(){if(!this.aboutElement||!this.selectedImage)return;this.aboutElement.style.backgroundImage=`url('${this.selectedImage.url}')`,this.aboutElement.style.backgroundSize="cover",this.aboutElement.style.backgroundPosition="center",this.aboutElement.style.backgroundAttachment="fixed",this.aboutElement.style.position="relative";const e=document.createElement("div");e.className="about-background-overlay",e.style.cssText="\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(\n                135deg,\n                rgba(255, 255, 255, 0.75) 0%,\n                rgba(255, 255, 255, 0.65) 50%,\n                rgba(255, 255, 255, 0.75) 100%\n            );\n            z-index: 1;\n        ",this.aboutElement.querySelector(".about-background-overlay")||this.aboutElement.appendChild(e);const t=this.aboutElement.querySelector(".container");t&&(t.style.position="relative",t.style.zIndex="2")}addAccessibilityAttributes(){this.selectedImage&&(this.heroElement&&(this.heroElement.setAttribute("aria-label",this.selectedImage.alt),this.heroElement.setAttribute("role","img")),this.aboutElement&&this.aboutElement.setAttribute("aria-label",`Background: ${this.selectedImage.alt}`),this.addImageStructuredData(),this.updateMetaDescription())}addImageStructuredData(){if(!this.selectedImage)return;const e={"@context":"https://schema.org","@type":"ImageObject",url:window.location.origin+"/"+this.selectedImage.url,description:this.selectedImage.description,name:this.selectedImage.alt,contentUrl:window.location.origin+"/"+this.selectedImage.url,caption:this.selectedImage.alt,creator:{"@type":"Organization",name:"Evans Handyman Services"},copyrightHolder:{"@type":"Organization",name:"Evans Handyman Services"}};let t=document.getElementById("hero-image-structured-data");t||(t=document.createElement("script"),t.type="application/ld+json",t.id="hero-image-structured-data",document.head.appendChild(t)),t.textContent=JSON.stringify(e)}updateMetaDescription(){if(!this.selectedImage)return;const e=document.querySelector('meta[name="description"]');if(e){const t="Evans Handyman Services - Professional home repairs, maintenance, and improvements in New Brunswick & Nova Scotia.",o=` Featuring ${this.selectedImage.description.toLowerCase()}.`;e.setAttribute("content",t+o)}}setupScrollNavigation(){if(!this.headerElement)return;this.headerElement.style.transform="translateY(0)",this.headerElement.style.opacity="1",this.isNavVisible=!0,setTimeout((()=>{window.pageYOffset<=CONFIG.scrollThreshold&&this.hideNavigation()}),1e3);let e=!1;window.addEventListener("scroll",(()=>{e||(requestAnimationFrame((()=>{this.handleScroll(),e=!1})),e=!0)}))}handleScroll(){const e=window.pageYOffset||document.documentElement.scrollTop;e>CONFIG.scrollThreshold&&!this.isNavVisible?this.showNavigation():e<=CONFIG.scrollThreshold&&this.isNavVisible&&this.hideNavigation()}showNavigation(){this.headerElement&&(this.headerElement.style.transform="translateY(0)",this.headerElement.style.opacity="1",this.isNavVisible=!0,this.headerElement.style.backdropFilter="blur(10px)",this.headerElement.style.backgroundColor="rgba(255, 255, 255, 0.95)")}hideNavigation(){this.headerElement&&(this.headerElement.style.transform="translateY(-100%)",this.headerElement.style.opacity="0",this.isNavVisible=!1,this.headerElement.style.backdropFilter="none",this.headerElement.style.backgroundColor="rgba(255, 255, 255, 1)")}addScrollToTopButton(){const e=document.createElement("button");e.innerHTML="â†‘",e.className="scroll-to-top",e.setAttribute("aria-label","Scroll to top"),Object.assign(e.style,{position:"fixed",bottom:"30px",right:"30px",width:"50px",height:"50px",borderRadius:"50%",border:"none",backgroundColor:"var(--ehms-primary)",color:"white",fontSize:"20px",cursor:"pointer",opacity:"0",transform:"scale(0)",transition:"all 0.3s ease",zIndex:"1000",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"}),document.body.appendChild(e),window.addEventListener("scroll",(()=>{(window.pageYOffset||document.documentElement.scrollTop)>500?(e.style.opacity="1",e.style.transform="scale(1)"):(e.style.opacity="0",e.style.transform="scale(0)")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),e.addEventListener("mouseenter",(()=>{e.style.backgroundColor="var(--ehms-secondary)",e.style.transform="scale(1.1)"})),e.addEventListener("mouseleave",(()=>{e.style.backgroundColor="var(--ehms-primary)";const t=window.pageYOffset||document.documentElement.scrollTop;e.style.transform=t>500?"scale(1)":"scale(0)"}))}}class SmoothScroll{constructor(){this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href"),n=document.querySelector(o);if(n){const e=document.querySelector(".site-header").offsetHeight,t=n.offsetTop-e-20;window.scrollTo({top:t,behavior:"smooth"})}}))}))}}class ParallaxEffect{constructor(){this.heroElement=document.querySelector(".hero"),this.aboutElement=document.querySelector("#about"),this.init()}init(){if(!this.heroElement&&!this.aboutElement)return;let e=!1;window.addEventListener("scroll",(()=>{e||(requestAnimationFrame((()=>{this.updateParallax(),e=!1})),e=!0)}))}updateParallax(){const e=window.pageYOffset;if(this.heroElement){const t=-e*.5;this.heroElement.style.backgroundPosition=`center ${t}px`}if(this.aboutElement){const t=this.aboutElement.offsetTop,o=this.aboutElement.offsetHeight,n=window.innerHeight;if(e+n>t&&e<t+o){const o=-(e-t+n)*.3;this.aboutElement.style.backgroundPosition=`center ${o}px`}}}}document.addEventListener("DOMContentLoaded",(()=>{console.log("ðŸ”¨ Evans Handyman Services - Website Loaded"),new HeroManager,new SmoothScroll,new ParallaxEffect,document.body.style.opacity="0",document.body.style.transition="opacity 0.5s ease",setTimeout((()=>{document.body.style.opacity="1"}),100)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("quote-form");e&&e.addEventListener("submit",(t=>{t.preventDefault();const o=new FormData(e);Object.fromEntries(o.entries());alert("Thank you for your quote request! We'll get back to you within 24 hours."),e.reset()}))}));